language: python
os:
- linux
python:
  - "2.7"
  - "3.4"

branches:
  only:
    - master
    - development

notifications:
  email:
#    - komuisan@gmail.com
    - abelcarreras83@gmail.com

install:
    - sudo apt-get install libblas-dev liblapack-dev
    - sudo apt-get install gfortran
    - cd python
    - pip install coverage
    - pip install python-coveralls
    - pip install -r requirements.txt
    - pip install -e .

script:
    - cd unittest
    - coverage run --source=../symgroupy -m unittest discover . "test_*.py"

after_success:
    - coveralls
    - cd ..

deploy:
    # pypi
    - provider: pypi
      distributions: sdist
      user: abelcarreras83
      password:
         secure: "Ym8OA8vXlVcLB9FVIf5rvYkSGHUhRvhJ9CSlSsxLbtrUFVvDjrzySKMK34pXssPbOmIkVqtHdg5lr+ljh1dstmIRxwi71urzjDaNLpfrHaN6hqninXqkfzXRD/7iekeTlWs5TO4QJjEFQUI9LKQ7KzKyT7fb4x17/H8HYSh25DBfQoYctABKuCUUV0JDYQ99IlaWo4hAbsh9fqeIEKqplIS7xX/87HKhYIjo8CPwQqit4LWMezchoz94DuWyghLPZoLJO3Hngw1t812RbsDeNWMxXVN0FO/qbC6XSQ1np4pj7bNxljbqwh/Wu3PbCHspi9swWNF9q7/VGiKIJKoHSNNd404kW33PAsO2b+pzPm5qczuePHuA7QMv2OJCyJiGJkugmv7DiJeQDi4ODtKVxdRiOr8GzZGB/WWqMrU5nWvvuKE/lbHm/h5GheNDykwoqfIPoN/2sPnMliCqX5yGIcpUHEzgmWHy7VkmZNzrVTcY3buryUHYfKOPFpeYb/up/CEo8vJx1WIS7K0S1MLc3se04M2Vh8AXwPSRQkAXy4aCQsOAU8Dn900f5Rn/bOWElsc8J86njc+jfkgEE9X0yLImRWH6TWiD1NUqCt2ErQFYp1Rio27ebYmMLK/b6JAPKfG92udqwWpRWQQchmyTHSiH8aRL8Atp5fNmVMHxRXw="
      skip_existing: true
      on:
          branch: master
 #         branch: development
          tags: False